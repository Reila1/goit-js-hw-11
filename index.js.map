{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '53363226-49c521b83e2d6ffa4f69ff166';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function getImagesByQuery(q) {\n  const params = {\n    key: API_KEY,\n    q: q,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 20\n  };\n\n  return axios.get(BASE_URL, { params })\n    .then(response => {\n      console.log('API Response:', response.data);\n      return response.data;\n    })\n    .catch(error => {\n      console.error(\"Error fetching images from Pixabay:\", error);\n      throw new Error(\"Failed to fetch images.\");\n    });\n}","\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst galleryContainer = document.querySelector('.gallery');\nconst loaderElement = document.querySelector('.loader-container');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport function createGallery(images) {\n  const markup = images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n    <li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\">\n        <div class=\"gallery-info\">\n          <div class=\"info-item\">\n            <span class=\"info-label\">Likes</span>\n            <span class=\"info-value\">${likes}</span>\n          </div>\n          <div class=\"info-item\">\n            <span class=\"info-label\">Views</span>\n            <span class=\"info-value\">${views}</span>\n          </div>\n          <div class=\"info-item\">\n            <span class=\"info-label\">Comments</span>\n            <span class=\"info-value\">${comments}</span>\n          </div>\n          <div class=\"info-item\">\n            <span class=\"info-label\">Downloads</span>\n            <span class=\"info-value\">${downloads}</span>\n          </div>\n        </div>\n      </a>\n    </li>\n  `).join('');\n\n  galleryContainer.insertAdjacentHTML('beforeend', markup);\n  lightbox.refresh();\n}\n\nexport function clearGallery() {\n  galleryContainer.innerHTML = '';\n}\n\nexport function showLoader() {\n  loaderElement.classList.add('visible');\n}\n\nexport function hideLoader() {\n  loaderElement.classList.remove('visible');\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { getImagesByQuery } from './js/pixabay-api.js';\nimport { createGallery, clearGallery, showLoader, hideLoader } from './js/render-functions.js';\niziToast.settings({\n      timeout: 3000,\n      resetOnHover: true,\n      position: 'topRight',\n    });\n\n    const searchForm = document.querySelector('.form');\n    const searchInputName = 'search-text';\n\n    searchForm.addEventListener('submit', event => {\n      event.preventDefault();\n      \n      const query = event.target.elements[searchInputName].value.trim();\n\n      if (query === '') {\n        iziToast.error({\n          title: 'Error',\n          message: 'Please enter a search term!',\n        });\n        return;\n      }\n\n      clearGallery();\n      showLoader();\n\n      getImagesByQuery(query)\n        .then(data => {\n          hideLoader();\n\n          if (!data.hits || data.hits.length === 0) {\n            iziToast.error({\n              title: 'Error',\n              message: 'Sorry, there are no images matching your search query. Please try again!',\n            });\n          } else {\n            console.log(`Hooray! Found ${data.hits.length} images.`, data.hits);\n            \n            createGallery(data.hits);\n            \n            iziToast.success({\n              title: 'Success',\n              message: `Found ${data.totalHits} images!`,\n            });\n          }\n\n          event.target.reset();\n        })\n        .catch(error => {\n          hideLoader();\n          console.error(error.message);\n          iziToast.error({\n            title: 'Request Failed',\n            message: `An error occurred: ${error.message}`,\n          });\n        });\n    });"],"names":["API_KEY","BASE_URL","getImagesByQuery","q","params","axios","response","error","galleryContainer","loaderElement","lightbox","SimpleLightbox","createGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","iziToast","searchForm","searchInputName","event","query","data"],"mappings":"+vBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAiBC,EAAG,CAClC,MAAMC,EAAS,CACb,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACd,EAEE,OAAOE,EAAM,IAAIJ,EAAU,CAAE,OAAAG,CAAM,CAAE,EAClC,KAAKE,IACJ,QAAQ,IAAI,gBAAiBA,EAAS,IAAI,EACnCA,EAAS,KACjB,EACA,MAAMC,GAAS,CACd,cAAQ,MAAM,sCAAuCA,CAAK,EACpD,IAAI,MAAM,yBAAyB,CAC/C,CAAK,CACL,CCpBA,MAAMC,EAAmB,SAAS,cAAc,UAAU,EACpDC,EAAgB,SAAS,cAAc,mBAAmB,EAE1DC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EAAO,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA;AAAA,sCAEpEL,CAAa;AAAA,0CACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,uCAI7BC,CAAK;AAAA;AAAA;AAAA;AAAA,uCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,uCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,uCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,GAK7C,EAAE,KAAK,EAAE,EAEVb,EAAiB,mBAAmB,YAAaM,CAAM,EACvDJ,EAAS,QAAO,CAClB,CAEO,SAASY,GAAe,CAC7Bd,EAAiB,UAAY,EAC/B,CAEO,SAASe,GAAa,CAC3Bd,EAAc,UAAU,IAAI,SAAS,CACvC,CAEO,SAASe,GAAa,CAC3Bf,EAAc,UAAU,OAAO,SAAS,CAC1C,CCjDAgB,EAAS,SAAS,CACZ,QAAS,IACT,aAAc,GACd,SAAU,UAChB,CAAK,EAED,MAAMC,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAkB,cAExBD,EAAW,iBAAiB,SAAUE,GAAS,CAC7CA,EAAM,eAAc,EAEpB,MAAMC,EAAQD,EAAM,OAAO,SAASD,CAAe,EAAE,MAAM,OAE3D,GAAIE,IAAU,GAAI,CAChBJ,EAAS,MAAM,CACb,MAAO,QACP,QAAS,6BACnB,CAAS,EACD,MACD,CAEDH,IACAC,IAEArB,EAAiB2B,CAAK,EACnB,KAAKC,GAAQ,CACZN,IAEI,CAACM,EAAK,MAAQA,EAAK,KAAK,SAAW,EACrCL,EAAS,MAAM,CACb,MAAO,QACP,QAAS,0EACvB,CAAa,GAED,QAAQ,IAAI,iBAAiBK,EAAK,KAAK,MAAM,WAAYA,EAAK,IAAI,EAElElB,EAAckB,EAAK,IAAI,EAEvBL,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,SAASK,EAAK,SAAS,UAC9C,CAAa,GAGHF,EAAM,OAAO,OACvB,CAAS,EACA,MAAMrB,GAAS,CACdiB,IACA,QAAQ,MAAMjB,EAAM,OAAO,EAC3BkB,EAAS,MAAM,CACb,MAAO,iBACP,QAAS,sBAAsBlB,EAAM,OAAO,EACxD,CAAW,CACX,CAAS,CACT,CAAK"}